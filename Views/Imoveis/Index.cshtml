@model IEnumerable<MyAirbnb.Models.Imovel>

@{
    ViewData["Title"] = "Index";
}

<h1>Imóveis</h1>
<br/>
<form asp-controller="Imoveis" asp-action="Index">
    <p>
        Pesquisa: <input type="text" name="search" />
        <input type="submit" value="Filter" />
    </p>
</form>
<br/>
@if (User.IsInRole("Gestor"))
{
    <p>
        <a asp-action="Create">Inserir novo imóvel</a>
    </p>
}
<ul style='list-style:none; display: flex; flex-wrap: wrap;'>
@foreach (var item in Model){
 <li style='display: flex; padding: 1rem;'>
     <div class='card' style='display: flex; flex-direction: column; overflow: hidden;'>
         @if (item.ImagemNome != null)
         {
            <img style='height: auto; max-width: 100%; vertical-align: middle;' src="@Url.Content("~/images/" + item.ImagemNome)">
         }
         else
         {
            <img  style='height: auto; max-width: 100%; vertical-align: middle;' src="">
         }
         <h2>@Html.DisplayFor(modelItem => item.Nome)</h2>
         <h6>@Html.DisplayFor(modelItem => item.Categoria.Name)</h6>
         <p>@Html.DisplayFor(modelItem => item.Descricao)</p>
         <h4>@Html.DisplayFor(modelItem => item.Preco)€</h4>
     </div>
 </li>   
}
</ul>


